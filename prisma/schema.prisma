generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model feature_flag {
  id            Int          @id @default(autoincrement())
  name          String       @unique @db.VarChar(50)
  description   String       @db.VarChar(255)
  is_enabled    Boolean      @default(false)
  required_role Int?
  role_lookup   role_lookup? @relation(fields: [required_role], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model role_lookup {
  id           Int            @id @default(autoincrement())
  name         String         @unique @db.VarChar(10)
  description  String         @db.VarChar(255)
  feature_flag feature_flag[]
  user         user[]
}

model sentence {
  id                                Int     @id @default(autoincrement())
  sentence                          String  @db.VarChar(512)
  tracker                           Int
  tracker_sentence_trackerTotracker tracker @relation("sentence_trackerTotracker", fields: [tracker], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model contains an expression index which requires additional setup for migrations. Visit https://pris.ly/d/expression-indexes for more info.
model tracker {
  id                                 Int        @id @default(autoincrement())
  overview                           String     @db.VarChar(512)
  number_creative_hours              Decimal    @db.Decimal(3, 1)
  rating                             Int        @db.SmallInt
  created_at                         DateTime?  @default(now()) @db.Timestamp(0)
  updated_at                         DateTime?  @default(now()) @db.Timestamp(0)
  user                               Int
  sentence_sentence_trackerTotracker sentence[] @relation("sentence_trackerTotracker")
  user_tracker_userTouser            user       @relation("tracker_userTouser", fields: [user], references: [id], onDelete: NoAction, onUpdate: NoAction)
  word_word_trackerTotracker         word[]     @relation("word_trackerTotracker")
}

model user {
  id                         Int          @id @default(autoincrement())
  username                   String       @unique @db.VarChar(50)
  password                   String       @db.VarChar(100)
  email                      String       @unique @db.VarChar(100)
  created_at                 DateTime?    @default(now()) @db.Timestamp(6)
  updated_at                 DateTime?    @default(now()) @db.Timestamp(6)
  role                       Int?         @default(1)
  tracker_tracker_userTouser tracker[]    @relation("tracker_userTouser")
  role_lookup                role_lookup? @relation(fields: [role], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model word {
  id                            Int     @id @default(autoincrement())
  word                          String  @db.VarChar(50)
  tracker                       Int
  tracker_word_trackerTotracker tracker @relation("word_trackerTotracker", fields: [tracker], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
